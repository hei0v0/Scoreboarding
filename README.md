# 记分牌算法仿真器（Scoareboard algorithm simulator）

## 项目介绍

本项目基于计算机系统结构课程的记分牌算法部分，编写的记分牌算法仿真器，目前已完成v1.0（基本记分牌算法模拟及测试）。



## 环境说明

代码为c++代码，适用于C++98标准或更高版本。



## 使用说明

### V 1.0

**注意事项：**

1. v1.0版本中,`input.txt`为输入文件，`output.txt`为输出文件，`answer.txt`为输出校验文件。
2. `input.txt`中的指令有以下几点格式要求：
   1. 第一行的数字为指令数，单独成行；
   2. 仅支持双精度浮点数的读入和加减乘除，分别为`L.D`、`ADD.D`、`SUB.D`、`MULT.D`和`DIV.D`；
   3. 每个指令占一行，指令的内容之间用空格连接（不可出现逗号等其他符号，空格个数不限）；
   4. `L.D`指令输入时存在立即数，立即数和寄存器之间的符号采用英文半角括号，即`立即数(寄存器)`，如`34(R2)`。
3. 测试返回值说明：
   1. `The files are identical.` 数据相同
   2. `The files are different.` 数据不同
4. 进行数据测试时，需要特别注意数据格式问题。因为测试使用的是`fc`命令。`fc`会将空格、制表符和换行符视为文件内容的一部分。如果输出文件中的空白字符与预期结果文件中的空白字符存在微小差异（<u>例如，由于不同的文本编辑器或操作系统产生的换行符差异</u>），即使实际输出结果是正确的，`fc`也会认为文件不同。



#### 1.非代码启动

将指令数和指令队列遵循以上格式要求写入`input.txt`中，并保证`input.txt`与`scoreboard.exe`位于同一文件目录中，可直接启动`scoreboard.exe`，执行后的结果位于同一文件目录的`output.txt`文件中。

> 缺点：部件执行所需时钟周期固定为 加法2个时钟周期，乘法10个时钟周期，除法40个时钟周期。

》**测试相关**

将指令数和指令队列遵循以上格式要求写入`input.txt`中，将正确答案或待测试答案写入`answer.txt`中。保证`input.txt`、`answer.txt`、`scoreboard.exe`与`test.exe`位于同一文件目录中。启动`test.exe`，测试结果将显示在窗口中。



#### 2.代码内启动

将`scoreboard.cpp`文件置于本地具备C++98标准或更高版本的c++编译环境下。

与非代码启动一样，将指令数和指令队列遵循以上格式要求写入`input.txt`中，并保证`input.txt`与`scoreboard.cpp`位于同一文件目录中。运行`scoreboard.cpp`，执行后的结果位于同一文件目录的`output.txt`文件中。

【本人进行撰写时所用的编译器为vscode，因此存在.vscode文件夹用于相关环境的配置。
若有同样使用vscode为编译器的友友，需记得修改.vscode文件夹中的相关数据（特别是编译器路径）。】

其中，可修改一些变量的值（如`exeT`、`Fu_size`、`FU`等）来修改部件执行所需时钟周期等数值，实现想要的指令执行状态。

》**测试相关**

同样，将指令数和指令队列遵循以上格式要求写入`input.txt`中，将正确答案或待测试答案写入`answer.txt`中。若修改了`scoreboard.cpp`中的代码，需再次编译`scoreboard.cpp`成`scoreboard.exe`。保证`input.txt`、`answer.txt`、`scoreboard.exe`与`test.cpp`位于同一文件目录中。运行`test.cpp`，测试结果将显示在窗口中。
